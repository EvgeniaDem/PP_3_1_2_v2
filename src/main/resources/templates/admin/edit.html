<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head th:insert="fragments/bootstrap::bootstrap">
    <meta charset="UTF-8">
    <title>User</title>
</head>

<body>

<div class="container-fluid">
    <nav th:replace="fragments/navbar::navbar"></nav>
    <div class="row">
        <div th:replace="fragments/panel::panel"></div>
        <div class="col-10 bg-light">

            <!-- EDIT -->
            <div class="modal fade" th:id="'edit' + ${user.id}" tabindex="-1" role="dialog" aria-labelledby="edit-user"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="edit-user">Edit user</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <!--end-point "@{/{id}/edit}" -->
                            <form action="#" th:action="@{/{id}/edit}" method="post" class="text-center"
                                  style="width: 300px; margin: auto">
                                <div class="form-group">
                                    <label th:for="'id' + ${user.id}"><b>ID</b></label>
                                    <input type="text" th:id="'id' + ${user.id}" name="id" th:value="${user.id}"
                                           class="form-control" readonly="readonly"/>
                                </div>

                                <div class="form-group">
                                    <label th:for="'firstName' + ${user.id}"><b>First name</b></label>
                                    <input type="text" th:id="'firstName' + ${user.id}" name="firstName"
                                           th:value="${user.firstName}" class="form-control"/>
                                </div>

                                <div class="form-group">
                                    <label th:for="'lastName' + ${user.id}"><b>Last name</b></label>
                                    <input type="text" th:id="'lastName' + ${user.id}" name="lastName"
                                           th:value="${user.lastName}" class="form-control"/>
                                </div>

                                <div class="form-group">
                                    <label th:for="'age' + ${user.id}"><b>Age</b></label>
                                    <input type="number" th:id="'age' + ${user.id}" name="age" th:value="${user.age}"
                                           class="form-control"/>
                                </div>

                                <div class="form-group">
                                    <label th:for="'email' + ${user.id}"><b>Email</b></label>
                                    <input type="text" th:id="'email' + ${user.id}" name="email"
                                           th:value="${user.email}" class="form-control"/>
                                </div>

                                <div class="form-group">
                                    <label th:for="'password' + ${user.id}"><b>Password</b></label>
                                    <input type="text" th:id="'password' + ${user.id}" name="password"
                                           th:value="${user.password}" class="form-control"/>
                                </div>

                                <div class="form-group">
                                    <label th:for="'roles' + ${user.id}"><b>Role</b></label>
                                    <select multiple class="custom-select" name="roles" th:id="'roles' + ${user.id}"
                                            size="2">
                                        <option th:if="${user.roles.contains(role)}"
                                                th:each="role: ${roles}"
                                                th:value="${role.name}"
                                                th:text="${role.name}"
                                                selected></option>
                                        <option th:unless="${user.roles.contains(role)}"
                                                th:each="role: ${roles}"
                                                th:value="${role.name}"
                                                th:text="${role.name}"
                                        ></option>
                                    </select>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary">Edit</button>
                                </div>
                            </form>

                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>


<!-- было в задаче без bootstrap
<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Update User</title>
</head>
<body>

<form th:method="PATCH" th:action="@{/admin/{id}(id=${user.getId()})}" th:object="${user}">
    <label for="name"> Enter name:</label>
    <input type="text" th:field="*{name}" id="name"/>

    <br/>

    <label for="surname"> Enter surname:</label>
    <input type="text" th:field="*{surname}" id="surname"/>

    <input type="submit" value="Update!"/>
</form>

<br/>
<hr/>

<div th:insert="fragments/logout :: logout"></div> -->

<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>

</body>
</html>